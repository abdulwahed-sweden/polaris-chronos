<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Polaris Chronos</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css?v=0.7.0">
</head>
<body>
  <div class="container">
    <header>
      <a href="/" class="logo-link"><div class="logo">Polaris Chronos</div></a>
    </header>

    <!-- Search -->
    <div class="controls">
      <div class="input-row">
        <div class="autocomplete-wrapper">
          <input type="text" id="city-input" placeholder="Search city..." autocomplete="off" spellcheck="false">
          <div id="autocomplete-list" class="autocomplete-list"></div>
        </div>
        <button id="go-btn">Search</button>
      </div>
    </div>

    <!-- Error -->
    <div id="error-state" class="error-state" style="display:none">
      <div class="error-icon">&#9888;</div>
      <p id="error-msg"></p>
    </div>

    <!-- Loading -->
    <div id="loading-state" class="loading-state" style="display:none">
      <div class="skeleton-banner"></div>
      <div class="skeleton-table"></div>
    </div>

    <!-- ===== CALENDAR VIEW ===== -->
    <div id="calendar-view" style="display:none">
      <div class="location-banner">
        <div class="loc-main">
          <span id="cal-loc-name" class="loc-name"></span>
        </div>
        <div class="loc-meta">
          <span id="cal-loc-tz" class="loc-tz"></span>
          <span class="loc-sep">&middot;</span>
          <span id="cal-loc-coords" class="loc-coords" title="Click to copy"></span>
        </div>
      </div>

      <div class="ramadan-header">
        <h2 id="ramadan-title" class="ramadan-title"></h2>
        <p id="ramadan-dates" class="ramadan-dates"></p>
      </div>

      <div id="now-bar" class="now-bar" style="display:none">
        <div class="now-left">
          <span class="now-label-text">Now:</span>
          <span id="now-prayer" class="now-prayer"></span>
        </div>
        <div class="now-right">
          <span class="now-label-text">Next:</span>
          <span id="now-next" class="now-next"></span>
          <span class="now-in">in</span>
          <span id="now-countdown" class="now-countdown"></span>
        </div>
      </div>

      <div class="table-wrapper calendar-table-wrapper">
        <table class="calendar-table">
          <thead>
            <tr>
              <th>Day</th>
              <th>Date</th>
              <th>Fajr</th>
              <th>Sunrise</th>
              <th>Dhuhr</th>
              <th>Asr</th>
              <th>Maghrib</th>
              <th>Isha</th>
            </tr>
          </thead>
          <tbody id="calendar-tbody"></tbody>
        </table>
      </div>
    </div>

    <!-- ===== DAY DETAIL VIEW ===== -->
    <div id="day-view" style="display:none">
      <a href="/" id="back-link" class="back-link">&larr; Back to Calendar</a>

      <div class="location-banner">
        <div class="loc-main">
          <span id="day-loc-name" class="loc-name"></span>
        </div>
        <div class="loc-meta">
          <span id="day-loc-tz" class="loc-tz"></span>
          <span class="loc-sep">&middot;</span>
          <span id="day-loc-coords" class="loc-coords" title="Click to copy"></span>
        </div>
      </div>

      <div class="day-header">
        <h2 id="day-title"></h2>
        <p id="day-subtitle" class="day-subtitle"></p>
      </div>

      <div class="strategy-row">
        <button class="strat-btn active" data-value="projected45">Projected</button>
        <button class="strat-btn" data-value="strict">Strict</button>
      </div>

      <div id="day-strategy-note" class="strategy-note" style="display:none">
        <span class="strategy-note-icon"></span>
        <span id="day-strategy-text"></span>
      </div>

      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Prayer</th>
              <th>Time</th>
              <th>Method</th>
              <th>Confidence</th>
            </tr>
          </thead>
          <tbody id="prayer-tbody"></tbody>
        </table>
      </div>

      <div class="solar-panel">
        <div class="solar-title">Solar Data</div>
        <div class="solar-grid">
          <div class="solar-item">
            <span class="solar-label">Max Altitude</span>
            <span id="solar-max" class="solar-value"></span>
          </div>
          <div class="solar-item">
            <span class="solar-label">Min Altitude</span>
            <span id="solar-min" class="solar-value"></span>
          </div>
          <div class="solar-item">
            <span class="solar-label">Solar Noon (UTC)</span>
            <span id="solar-peak" class="solar-value"></span>
          </div>
          <div class="solar-item">
            <span class="solar-label">Nadir (UTC)</span>
            <span id="solar-nadir" class="solar-value"></span>
          </div>
        </div>
      </div>

      <div class="meta-row">
        <span class="meta-item">Strategy: <strong id="meta-strategy"></strong></span>
        <span class="meta-item">Source: <strong id="meta-source"></strong></span>
        <span class="meta-item">Confidence: <strong id="meta-confidence"></strong></span>
      </div>
    </div>

    <footer>Polaris Chronos &mdash; Virtual Horizon Prayer Time Engine</footer>
  </div>
  <script src="/app.js?v=0.7.0"></script>
</body>
</html>
